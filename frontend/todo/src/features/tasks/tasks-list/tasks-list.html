<!-- eslint-disable @angular-eslint/template/label-has-associated-control -->

<div class="wrapper">
  <h2>
    {{ listHeader }}
  </h2>
  @if (tagName.length) {
    <span> - {{ tagName }}</span>
  }
  @if (listName.length) {
    <span> - {{ listName }}</span>
  }

  <div class="add-task">
    <input for="text" id="newTask" name="newTask" placeholder=" âœš Add task..." />
  </div>

  <div class="task-container">
    @for (task of tasks() || []; track task.id) {
      <div class="task-box">
        <input
          type="checkbox"
          [id]="'checkbox' + task.id"
          class="task-check"
          [checked]="task.isCompleted"
        />

        <label
          tabindex="0"
          (click)="showTaskDescription(task.id)"
          (keydown.enter)="showTaskDescription(task.id)"
          (keydown.space)="showTaskDescription(task.id)"
        >
          {{ task.name }}
        </label>

        <div class="task-date" [class.task-date-late]="taskService.checkDate(task.dueDate)">
          {{ task.dueDate | date: 'dd.MM.yyyy' }}
        </div>
      </div>
    }
  </div>
</div>
